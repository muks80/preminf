{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/home1/Documents/Coding/REACT/prem/src/apis/googleAuthContext.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, createContext } from 'react';\nexport const GoogleAuthContext = /*#__PURE__*/createContext();\n\nconst GoogleAuthContextProvider = props => {\n  _s();\n\n  const [signedIn, setSignedIn] = useState(false);\n  const [userGivenName, setUserGivenName] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [reload, setReload] = useState(false);\n  useEffect(() => {\n    window.gapi.load('client:auth2', () => {\n      window.gapi.client.init({\n        clientId: process.env.REACT_APP_GOOGLE_API,\n        scope: 'email'\n      }).then(() => {\n        const auth = window.gapi.auth2.getAuthInstance();\n        setSignedIn(auth.isSignedIn.get());\n        !signedIn ? setUserGivenName(null) : setUserGivenName(window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getGivenName());\n        !signedIn ? setUserId(null) : setUserId(window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getId());\n        auth.isSignedIn.listen(onAuthChange);\n      });\n    });\n\n    const onAuthChange = () => {\n      setSignedIn(window.gapi.auth2.getAuthInstance().isSignedIn.get());\n      signedIn ? setUserGivenName(null) : setUserGivenName(window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getGivenName());\n      signedIn ? setUserId(null) : setUserId(window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getId());\n    };\n  }, [signedIn]);\n\n  const onSignIn = () => {\n    window.gapi.auth2.getAuthInstance().signIn();\n  };\n\n  const onSignOut = () => {\n    window.gapi.auth2.getAuthInstance().signOut();\n  };\n\n  return /*#__PURE__*/_jsxDEV(GoogleAuthContext.Provider, {\n    value: {\n      signedIn,\n      userGivenName,\n      userId,\n      reload,\n      setReload,\n      onSignIn,\n      onSignOut\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GoogleAuthContextProvider, \"Bohn7iGUama+MGFoidMJYck7lIc=\");\n\n_c = GoogleAuthContextProvider;\nexport default GoogleAuthContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"GoogleAuthContextProvider\");","map":{"version":3,"sources":["/Users/home1/Documents/Coding/REACT/prem/src/apis/googleAuthContext.js"],"names":["useEffect","useState","createContext","GoogleAuthContext","GoogleAuthContextProvider","props","signedIn","setSignedIn","userGivenName","setUserGivenName","userId","setUserId","reload","setReload","window","gapi","load","client","init","clientId","process","env","REACT_APP_GOOGLE_API","scope","then","auth","auth2","getAuthInstance","isSignedIn","get","currentUser","getBasicProfile","getGivenName","getId","listen","onAuthChange","onSignIn","signIn","onSignOut","signOut","children"],"mappings":"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","sourcesContent":["import { useEffect, useState, createContext } from 'react';\n\nexport const GoogleAuthContext = createContext();\n\nconst GoogleAuthContextProvider = (props) => {\n    const [ signedIn, setSignedIn ] = useState(false);\n    const [ userGivenName, setUserGivenName ] = useState(null);\n    const [ userId, setUserId ] = useState(null);\n    const [ reload, setReload ] = useState(false);\n\n    useEffect(() => {\n        window.gapi.load('client:auth2', () => {\n            window.gapi.client.init({\n                clientId: process.env.REACT_APP_GOOGLE_API,\n                scope: 'email'\n            }).then(() => {\n                const auth = window.gapi.auth2.getAuthInstance();\n                setSignedIn(auth.isSignedIn.get());\n                !signedIn ? setUserGivenName(null) : setUserGivenName(window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getGivenName());\n                !signedIn ? setUserId(null) : setUserId(window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getId());\n                auth.isSignedIn.listen(onAuthChange);\n            })\n        });\n\n        const onAuthChange = () => {\n            setSignedIn(window.gapi.auth2.getAuthInstance().isSignedIn.get());\n            signedIn ? setUserGivenName(null) : setUserGivenName(window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getGivenName());\n            signedIn ? setUserId(null) : setUserId(window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getId());\n        }\n\n    }, [signedIn])\n\n    const onSignIn = () => {\n        window.gapi.auth2.getAuthInstance().signIn();\n    }\n\n    const onSignOut = () => {\n        window.gapi.auth2.getAuthInstance().signOut();\n    }\n\n    return(\n        <GoogleAuthContext.Provider value={{signedIn, userGivenName, userId, reload, setReload, onSignIn, onSignOut}}>\n            {props.children}\n        </GoogleAuthContext.Provider>\n    )\n}\n\nexport default GoogleAuthContextProvider;"]},"metadata":{},"sourceType":"module"}